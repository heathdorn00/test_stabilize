{
  "name": "api-gateway-contracts",
  "version": "1.0.0",
  "description": "Pact contract tests for API Gateway (consumer)",
  "main": "index.js",
  "scripts": {
    "test": "jest --testMatch='**/*.pact.spec.ts'",
    "test:watch": "jest --watch --testMatch='**/*.pact.spec.ts'",
    "pact:publish": "pact-broker publish ./pacts --consumer-app-version=$CONSUMER_VERSION --broker-base-url=$PACT_BROKER_URL --broker-username=$PACT_BROKER_USERNAME --broker-password=$PACT_BROKER_PASSWORD --tag=$TAG",
    "pact:publish:local": "pact-broker publish ./pacts --consumer-app-version=$(git rev-parse --short HEAD) --broker-base-url=http://localhost:9292 --broker-username=pactbroker --broker-password=pactbroker --tag=local",
    "pact:publish:ci": "pact-broker publish ./pacts --consumer-app-version=$CI_COMMIT_SHA --broker-base-url=$PACT_BROKER_URL --broker-username=$PACT_BROKER_USERNAME --broker-password=$PACT_BROKER_PASSWORD --tag=$CI_BRANCH",
    "pact:can-i-deploy": "pact-broker can-i-deploy --pacticipant=APIGateway --version=$CONSUMER_VERSION --to-environment=production --broker-base-url=$PACT_BROKER_URL --broker-username=$PACT_BROKER_USERNAME --broker-password=$PACT_BROKER_PASSWORD",
    "pact:can-i-deploy:local": "pact-broker can-i-deploy --pacticipant=APIGateway --version=$(git rev-parse --short HEAD) --to-environment=test --broker-base-url=http://localhost:9292 --broker-username=pactbroker --broker-password=pactbroker",
    "pact:create-version-tag": "pact-broker create-version-tag --pacticipant=APIGateway --version=$CONSUMER_VERSION --tag=$TAG --broker-base-url=$PACT_BROKER_URL --broker-username=$PACT_BROKER_USERNAME --broker-password=$PACT_BROKER_PASSWORD",
    "pact:record-deployment": "pact-broker record-deployment --pacticipant=APIGateway --version=$CONSUMER_VERSION --environment=$ENVIRONMENT --broker-base-url=$PACT_BROKER_URL --broker-username=$PACT_BROKER_USERNAME --broker-password=$PACT_BROKER_PASSWORD"
  },
  "keywords": [
    "pact",
    "contract-testing",
    "api-gateway",
    "microservices"
  ],
  "author": "",
  "license": "MIT",
  "devDependencies": {
    "@pact-foundation/pact": "^12.1.0",
    "@types/jest": "^29.5.0",
    "@types/node": "^20.0.0",
    "axios": "^1.6.0",
    "jest": "^29.5.0",
    "ts-jest": "^29.1.0",
    "typescript": "^5.0.0"
  },
  "dependencies": {
    "@pact-foundation/pact-node": "^10.17.7"
  },
  "jest": {
    "preset": "ts-jest",
    "testEnvironment": "node",
    "testMatch": [
      "**/*.pact.spec.ts"
    ],
    "collectCoverage": false,
    "verbose": true
  }
}
